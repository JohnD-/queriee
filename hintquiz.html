<!DOCTYPE html>
<html>
<head><meta charset='utf-8'>
<style>
  table, td {width: 100%; min-height: 10px} th {text-align: left}
  td {font: 30px sans-serif; text-align: center} #y, #z {font-family: serif}
  /*s#y {opacity: 0}*/ #z{outline: none; white-space: pre-wrap}
  #zz{font: 16px monospace; font-weight: bold;}
  .c {color: marktext; background: mark; font-weight:lighter}
  body {display: flex; flex-direction: column; justify-content: center}
  fieldset {position: absolute; right: 0; bottom: 0; width: max-content}
</style>
</head>
<body>
<table>
    <thead><tr><th>The Korean Conflict</th></tr></thead>
    <tr><td id='x'></td></tr><tr><td id='y'></td></tr><tr><td>&ZeroWidthSpace;<span id='z' spellcheck='false'></span></td></tr>
    <tr><td id='zz'></td></tr>
</table>
<fieldset id= 'fs'>
  <legend>Hint choice:</legend>
  <input id= 'h1' type= 'radio' name= 'hint' value= 'opacity' checked/><label for= 'h1'>opacity</label><br>
  <input id= 'h2' type= 'radio' name= 'hint' value= 'rear character'/><label for= 'h2'>rear characters</label>
</fieldset>
<script>
let a=[], b=[]
a[0]= "First battle between US and North Korea"; b[0]="Battle of Osan"
a[1]="South Korea capital" ; b[1]="Seoul"
a[2]="de facto capital of North Korea" ; b[2]="Pyongyang"
a[3]="South Korea leader" ; b[3]="Syngman Rhee"
a[4]="North Korea leader" ; b[4]="Kim Il Sung"
a[5]="Soviet Union leader" ; b[5]="Joseph Stalin"
a[6]="US President" ; b[6]="Harry S. Truman"
a[7]="China leader" ; b[7]="Mao Zedong"
a[8]="United Nations forces commander" ; b[8]="General Douglas MacArthur"
a[9]="assumed boundary between North and South" ; b[9]="38th parallel"
a[10]="Korean armistice date"; b[10]="27 July 1953"


let i= 0, j=0
let z= document.getElementById('z'), y= document.getElementById('y')
  , h1= document.getElementById('h1'), h2= document.getElementById('h2'), fs= document.getElementById('fs')
let y1

let f1, g
let g1= _=> {y.textContent= y1; y.style.opacity= 0.01* j++}
let g2= _=> {y.textContent= y1.replace(y1.slice(0, y1.length- j), j== 0|| j== y1.length? '':'_'); j+=(j< y1.length)}  
g= g1

function f(){if(i== a.length) {f3();return} fs.disabled= false
  j= 0; x.textContent= a[i]; y1= b[i++]; z.textContent=''; f1= g
  zz.classList.remove('c'); z.classList.remove('c')
  if(i<= a.length){zz.textContent= 'press <enter> continously for hints'} else zz.textContent=''
    z.contentEditable= 'true'; z.focus(); g()}
f()
function f2(){zz.classList.add('c'); z.classList.add('c'); zz.textContent= 'press <enter> for next item'; f1= f; z.contentEditable= 'false'}
function f3(){x.textContent= y.textContent= z.textContent= ''; zz.textContent= 'end of list -- press <enter> to restart'; i=0; fs.disabled= true}
addEventListener('click', _=> z.focus())
z.addEventListener('input', _=>{if(z.textContent== y1) f2()})

addEventListener('keyup', e=> {if(['Enter','NumpadEnter'].includes(e.key)) f1()})
addEventListener('keydown', e=> {if(['Enter','NumpadEnter'].includes(e.key)) e.preventDefault()})
fs.addEventListener('change', e=> {y.style.opacity=1; j=0; i--; g= e.target==h1? g1: g2; f()})
</script>
</body>
</html>
<!--how to return to beginning of list
-->